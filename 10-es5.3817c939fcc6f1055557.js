function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{xSpW:function(t,e,n){"use strict";n.r(e);var i=n("ofXK"),o=n("tyNb"),c=n("3Pt+"),a=n("fXoL"),r=n("GPUG"),l=n("bTqV"),b=n("NFeN"),d=n("kmnG"),u=n("qFsG"),s=n("d3UM"),m=n("+0xr"),p=n("M9IT"),f=n("FKr1");function g(t,e){if(1&t&&(a.Wb(0,"mat-option",24),a.Ic(1),a.Vb()),2&t){var n=e.$implicit;a.nc("value",n.codigo),a.Cb(1),a.Kc(" ",n.nombre," ")}}function h(t,e){1&t&&(a.Wb(0,"th",25),a.Ic(1,"C\xf3digo"),a.Vb())}function C(t,e){if(1&t&&(a.Wb(0,"td",26),a.Ic(1),a.Vb()),2&t){var n=e.$implicit;a.Cb(1),a.Jc(n.codigo)}}function v(t,e){1&t&&(a.Wb(0,"th",25),a.Ic(1,"Descripci\xf3n"),a.Vb())}function V(t,e){if(1&t&&(a.Wb(0,"td",26),a.Ic(1),a.Vb()),2&t){var n=e.$implicit;a.Cb(1),a.Jc(n.descripcion)}}function W(t,e){1&t&&(a.Wb(0,"th",25),a.Ic(1,"Tipo"),a.Vb())}function P(t,e){if(1&t&&(a.Wb(0,"td",26),a.Ic(1),a.Vb()),2&t){var n=e.$implicit;a.Cb(1),a.Jc(n.tipo)}}function I(t,e){1&t&&(a.Wb(0,"th",25),a.Ic(1,"Precio"),a.Vb())}function _(t,e){if(1&t&&(a.Wb(0,"td",26),a.Ic(1),a.Vb()),2&t){var n=e.$implicit;a.Cb(1),a.Jc(n.precio)}}function O(t,e){1&t&&(a.Wb(0,"th",25),a.Ic(1,"Marca"),a.Vb())}function w(t,e){if(1&t&&(a.Wb(0,"td",26),a.Ic(1),a.Vb()),2&t){var n=e.$implicit;a.Cb(1),a.Jc(n.marca)}}function S(t,e){1&t&&(a.Wb(0,"th",25),a.Ic(1,"Stock"),a.Vb())}function k(t,e){if(1&t&&(a.Wb(0,"td",26),a.Ic(1),a.Vb()),2&t){var n=e.$implicit;a.Cb(1),a.Jc(n.stock)}}function M(t,e){1&t&&a.Rb(0,"tr",27)}var x=function(t){return{"row-selected":t}};function y(t,e){if(1&t){var n=a.Xb();a.Wb(0,"tr",28),a.ec("click",(function(){a.zc(n);var t=e.$implicit;return a.ic().updateSelected(t)})),a.Vb()}if(2&t){var i=e.$implicit,o=a.ic();a.nc("ngClass",a.pc(1,x,o.selectedId===i.codigo))}}var R,G,q=function(){return[5,10,25,100]},D=((R=function(){function t(e,n,i){_classCallCheck(this,t),this.router=e,this.route=n,this.productoService=i,this.page=1,this.pageSize=10,this.selectedId=0,this.displayedColumns=["codigo","descripcion","precio","tipo","marca","stock"],this.dataSource=[],this.codigo=new c.d(""),this.descripcion=new c.d(""),this.tipo=new c.d(""),this.tipoProducto=[]}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.loadProducto(),this.productoService.getTipoProducto().subscribe((function(e){t.tipoProducto=e}))}},{key:"loadProducto",value:function(){var t=this;this.productoService.getProductos(this.codigo.value,this.descripcion.value,this.page,this.pageSize,this.tipo.value).subscribe((function(e){t.dataSource=e}))}},{key:"pageChange",value:function(t){this.page=t.pageIndex+1,this.pageSize=t.pageSize,this.loadProducto()}},{key:"deleteProduct",value:function(){var t=this;this.productoService.delete(this.selectedId).subscribe((function(){t.loadProducto()}))}},{key:"borrar",value:function(){this.codigo.setValue(""),this.descripcion.setValue(""),this.tipo.setValue("")}},{key:"search",value:function(){this.loadProducto()}},{key:"nuevoProducto",value:function(t){this.router.navigate(["nuevo"],{relativeTo:this.route})}},{key:"modificarProducto",value:function(t){this.router.navigate(["editar",this.selectedId],{relativeTo:this.route})}},{key:"updateSelected",value:function(t){this.selectedId=this.selectedId===t.codigo?0:t.codigo}}]),t}()).\u0275fac=function(t){return new(t||R)(a.Qb(o.c),a.Qb(o.a),a.Qb(r.a))},R.\u0275cmp=a.Kb({type:R,selectors:[["app-main"]],decls:64,vars:13,consts:[[1,"actions"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","accent",3,"disabled","click"],["mat-raised-button","","color","warn",3,"disabled","click"],[1,"filters"],[1,"input-list"],["type","text","matInput","",3,"formControl"],[3,"formControl"],[3,"value",4,"ngFor","ngForOf"],[1,"filter-actions"],["mat-raised-button","","color","warn",3,"click"],[1,"table-wrapper"],["mat-table","",1,"mat-elevation-z8","tabla-productos",3,"dataSource"],["matColumnDef","codigo"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","descripcion"],["matColumnDef","tipo"],["matColumnDef","precio"],["matColumnDef","marca"],["matColumnDef","stock"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"ngClass","click",4,"matRowDef","matRowDefColumns"],[3,"length","pageSize","pageSizeOptions","page"],[3,"value"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row","",3,"ngClass","click"]],template:function(t,e){1&t&&(a.Wb(0,"div",0),a.Wb(1,"button",1),a.ec("click",(function(t){return e.nuevoProducto(t)})),a.Wb(2,"mat-icon"),a.Ic(3," add_circle_outline"),a.Vb(),a.Ic(4," Nuevo Producto "),a.Vb(),a.Wb(5,"button",2),a.ec("click",(function(t){return e.modificarProducto(t)})),a.Wb(6,"mat-icon"),a.Ic(7," update"),a.Vb(),a.Ic(8," Modificar Producto "),a.Vb(),a.Wb(9,"button",3),a.ec("click",(function(){return e.deleteProduct()})),a.Wb(10,"mat-icon"),a.Ic(11," delete"),a.Vb(),a.Ic(12," Eliminar Producto "),a.Vb(),a.Vb(),a.Wb(13,"div"),a.Ic(14,"Filtar Productos:"),a.Vb(),a.Wb(15,"div",4),a.Wb(16,"div",5),a.Wb(17,"mat-form-field"),a.Wb(18,"mat-label"),a.Ic(19,"C\xf3digo Producto"),a.Vb(),a.Rb(20,"input",6),a.Vb(),a.Wb(21,"mat-form-field"),a.Wb(22,"mat-label"),a.Ic(23,"Descripci\xf3n Producto"),a.Vb(),a.Rb(24,"input",6),a.Vb(),a.Wb(25,"mat-form-field"),a.Wb(26,"mat-label"),a.Ic(27,"Tipo"),a.Vb(),a.Wb(28,"mat-select",7),a.Gc(29,g,2,2,"mat-option",8),a.Vb(),a.Vb(),a.Vb(),a.Wb(30,"div",9),a.Wb(31,"button",1),a.ec("click",(function(){return e.search()})),a.Wb(32,"mat-icon"),a.Ic(33,"search"),a.Vb(),a.Ic(34,"Filtrar "),a.Vb(),a.Wb(35,"button",10),a.ec("click",(function(){return e.borrar()})),a.Wb(36,"mat-icon"),a.Ic(37,"clear"),a.Vb(),a.Ic(38,"Borrar "),a.Vb(),a.Vb(),a.Vb(),a.Wb(39,"div"),a.Ic(40,"Principales productos:"),a.Vb(),a.Wb(41,"div",11),a.Wb(42,"table",12),a.Ub(43,13),a.Gc(44,h,2,0,"th",14),a.Gc(45,C,2,1,"td",15),a.Tb(),a.Ub(46,16),a.Gc(47,v,2,0,"th",14),a.Gc(48,V,2,1,"td",15),a.Tb(),a.Ub(49,17),a.Gc(50,W,2,0,"th",14),a.Gc(51,P,2,1,"td",15),a.Tb(),a.Ub(52,18),a.Gc(53,I,2,0,"th",14),a.Gc(54,_,2,1,"td",15),a.Tb(),a.Ub(55,19),a.Gc(56,O,2,0,"th",14),a.Gc(57,w,2,1,"td",15),a.Tb(),a.Ub(58,20),a.Gc(59,S,2,0,"th",14),a.Gc(60,k,2,1,"td",15),a.Tb(),a.Gc(61,M,1,0,"tr",21),a.Gc(62,y,1,3,"tr",22),a.Vb(),a.Vb(),a.Wb(63,"mat-paginator",23),a.ec("page",(function(t){return e.pageChange(t)})),a.Vb()),2&t&&(a.Cb(5),a.nc("disabled",!e.selectedId),a.Cb(4),a.nc("disabled",!e.selectedId),a.Cb(11),a.nc("formControl",e.codigo),a.Cb(4),a.nc("formControl",e.descripcion),a.Cb(4),a.nc("formControl",e.tipo),a.Cb(1),a.nc("ngForOf",e.tipoProducto),a.Cb(13),a.nc("dataSource",e.dataSource),a.Cb(19),a.nc("matHeaderRowDef",e.displayedColumns),a.Cb(1),a.nc("matRowDefColumns",e.displayedColumns),a.Cb(1),a.nc("length",100)("pageSize",10)("pageSizeOptions",a.oc(12,q)))},directives:[l.a,b.a,d.c,d.f,u.b,c.b,c.l,c.e,s.a,i.k,m.j,m.c,m.e,m.b,m.g,m.i,p.a,f.l,m.d,m.a,m.f,m.h,i.j],styles:[".tabla-productos[_ngcontent-%COMP%]{min-width:700px;width:100%;margin-top:16px}.table-wrapper[_ngcontent-%COMP%]{overflow-x:auto}.row-selected[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.12)}.actions[_ngcontent-%COMP%]{margin-bottom:16px}.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:8px}@media screen and (max-width:600px){.actions[_ngcontent-%COMP%]{flex-wrap:wrap}.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;margin-bottom:8px}}.filters[_ngcontent-%COMP%]{display:flex}.filters[_ngcontent-%COMP%]   .filter-actions[_ngcontent-%COMP%]{margin-left:16px;display:flex;align-items:center}.filters[_ngcontent-%COMP%]   .filter-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .filters[_ngcontent-%COMP%]   .input-list[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{margin-right:8px}@media screen and (max-width:600px){.filters[_ngcontent-%COMP%]{flex-wrap:wrap}.filters[_ngcontent-%COMP%]   .filter-actions[_ngcontent-%COMP%]{width:100%;margin:0;display:block}.filters[_ngcontent-%COMP%]   .filter-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:block;width:100%;margin:0 0 8px}.filters[_ngcontent-%COMP%]   .input-list[_ngcontent-%COMP%], .filters[_ngcontent-%COMP%]   .input-list[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}}"]}),R),F=n("aR35"),N=n("tk/3"),T=((G=function(){function t(e,n){_classCallCheck(this,t),this.httpClient=e,this.config=n}return _createClass(t,[{key:"upload",value:function(t){var e="".concat(this.config.imageapi,"/upload?key=0b7f1a50288820e9fa8248fa27c30438"),n=new FormData;return n.append("image",t),this.httpClient.post(e,n)}}]),t}()).\u0275fac=function(t){return new(t||G)(a.ac(N.a),a.ac(F.a))},G.\u0275prov=a.Mb({token:G,factory:G.\u0275fac,providedIn:"root"}),G),U=n("Dz8P"),z=n("f0Cb");function E(t,e){if(1&t&&(a.Wb(0,"mat-option",25),a.Ic(1),a.Vb()),2&t){var n=e.$implicit;a.nc("value",n.codigo),a.Cb(1),a.Kc(" ",n.nombre," ")}}function j(t,e){if(1&t&&(a.Wb(0,"mat-option",25),a.Ic(1),a.Vb()),2&t){var n=e.$implicit;a.nc("value",n.idMarca),a.Cb(1),a.Kc(" ",n.nombreMarca," ")}}function $(t,e){if(1&t&&a.Rb(0,"img",26),2&t){var n=a.ic();a.nc("src",n.getImage(),a.Bc)}}function Q(t,e){if(1&t&&(a.Wb(0,"mat-option",25),a.Ic(1),a.Vb()),2&t){var n=e.$implicit;a.nc("value",n.codigo),a.Cb(1),a.Kc(" ",n.nombre," ")}}function K(t,e){if(1&t&&(a.Wb(0,"mat-option",25),a.Ic(1),a.Vb()),2&t){var n=e.$implicit;a.nc("value",n.idMarca),a.Cb(1),a.Kc(" ",n.nombreMarca," ")}}function A(t,e){if(1&t&&a.Rb(0,"img",26),2&t){var n=a.ic();a.nc("src",n.getImage(),a.Bc)}}var J,B,X,H=[{path:"",component:D},{path:"nuevo",component:(B=function(){function t(e,n,i,o){_classCallCheck(this,t),this.location=e,this.productoService=n,this.imageService=i,this.marcaService=o,this.tipoProducto=[],this.marcas=[],this.registrarGroup=new c.g({codigoFabrica:new c.d("",[c.q.required]),codigoSunat:new c.d("",[c.q.required]),descripcion:new c.d("",[c.q.required]),tipo:new c.d("",[c.q.required]),marca:new c.d("",[c.q.required]),enlaceRRSS2:new c.d("",[c.q.required]),enlaceRRSS1:new c.d("",[c.q.required]),stock:new c.d("",[c.q.required]),precio:new c.d("",[c.q.required]),imageUrl:new c.d("",[c.q.required])})}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.productoService.getTipoProducto().subscribe((function(e){t.tipoProducto=e})),this.marcaService.getMarcas().subscribe((function(e){t.marcas=e}))}},{key:"cancel",value:function(t){this.location.back()}},{key:"getImage",value:function(){return this.registrarGroup.get("imageUrl").value}},{key:"borrar",value:function(){this.registrarGroup.reset()}},{key:"onSelectFile",value:function(t){var e=this;t.target.files&&t.target.files[0]&&this.imageService.upload(t.target.files[0]).subscribe((function(t){e.registrarGroup.get("imageUrl").setValue(t.data.display_url)}))}},{key:"save",value:function(){var t=this,e=this.registrarGroup.value,n=e.codigoFabrica,i=e.codigoSunat,o=e.descripcion,c=e.tipo,a=e.marca,r=e.enlaceRRSS2,l=e.enlaceRRSS1,b=e.stock,d=e.precio,u=e.imageUrl;this.productoService.crearProducto(c,a,n,i,o,l,r,d,b,u).subscribe((function(){t.location.back()}))}},{key:"isDisabled",value:function(){return this.registrarGroup.invalid}}]),t}(),B.\u0275fac=function(t){return new(t||B)(a.Qb(i.h),a.Qb(r.a),a.Qb(T),a.Qb(U.a))},B.\u0275cmp=a.Kb({type:B,selectors:[["app-nuevo-producto"]],decls:78,vars:5,consts:[[1,"nuevo-producto","mat-elevation-z8",3,"formGroup"],[1,"section-container"],[1,"input-list"],["type","text","matInput","","formControlName","codigoFabrica"],["type","text","matInput","","formControlName","codigoSunat"],["type","text","matInput","","formControlName","descripcion"],["formControlName","tipo"],[3,"value",4,"ngFor","ngForOf"],["formControlName","marca"],["type","text","matInput","","formControlName","enlaceRRSS2"],["type","text","matInput","","formControlName","enlaceRRSS1"],["matInput","","type","number","min","0","formControlName","stock"],["matInput","","type","number","formControlName","precio"],["matPrefix",""],[1,"image-control"],[1,"image-container"],[3,"src",4,"ngIf"],["type","file","accept","image/*",2,"display","none",3,"change"],["file",""],["mat-stroked-button","","color","primary",3,"click"],[1,"upload-text"],[1,"actions"],["mat-flat-button","",3,"click"],["mat-raised-button","","color","warn",3,"click"],["mat-raised-button","","color","primary",3,"disabled","click"],[3,"value"],[3,"src"]],template:function(t,e){if(1&t){var n=a.Xb();a.Wb(0,"h1"),a.Ic(1,"Registrar Producto"),a.Vb(),a.Wb(2,"form",0),a.Wb(3,"div",1),a.Wb(4,"h2"),a.Ic(5,"Datos de producto"),a.Vb(),a.Wb(6,"div",2),a.Wb(7,"mat-form-field"),a.Wb(8,"mat-label"),a.Ic(9,"C\xf3digo de Fabrica"),a.Vb(),a.Rb(10,"input",3),a.Vb(),a.Wb(11,"mat-form-field"),a.Wb(12,"mat-label"),a.Ic(13,"C\xf3digo Sunat"),a.Vb(),a.Rb(14,"input",4),a.Vb(),a.Wb(15,"mat-form-field"),a.Wb(16,"mat-label"),a.Ic(17,"Descripci\xf3n"),a.Vb(),a.Rb(18,"input",5),a.Vb(),a.Wb(19,"mat-form-field"),a.Wb(20,"mat-label"),a.Ic(21,"Tipo"),a.Vb(),a.Wb(22,"mat-select",6),a.Gc(23,E,2,2,"mat-option",7),a.Vb(),a.Vb(),a.Wb(24,"mat-form-field"),a.Wb(25,"mat-label"),a.Ic(26,"Marca"),a.Vb(),a.Wb(27,"mat-select",8),a.Gc(28,j,2,2,"mat-option",7),a.Vb(),a.Vb(),a.Wb(29,"mat-form-field"),a.Wb(30,"mat-label"),a.Ic(31,"Enlace RRSS 2"),a.Vb(),a.Rb(32,"input",9),a.Vb(),a.Wb(33,"mat-form-field"),a.Wb(34,"mat-label"),a.Ic(35,"Enlace RRSS 1"),a.Vb(),a.Rb(36,"input",10),a.Vb(),a.Vb(),a.Vb(),a.Rb(37,"mat-divider"),a.Wb(38,"div",1),a.Wb(39,"h2"),a.Ic(40,"Stock"),a.Vb(),a.Wb(41,"div",2),a.Wb(42,"mat-form-field"),a.Wb(43,"mat-label"),a.Ic(44,"Stock actual"),a.Vb(),a.Rb(45,"input",11),a.Vb(),a.Wb(46,"mat-form-field"),a.Wb(47,"mat-label"),a.Ic(48,"Precio Actual"),a.Vb(),a.Rb(49,"input",12),a.Wb(50,"span",13),a.Ic(51,"S/"),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Rb(52,"mat-divider"),a.Wb(53,"div",1),a.Wb(54,"h2"),a.Ic(55,"Imagen"),a.Vb(),a.Wb(56,"div",14),a.Wb(57,"div",15),a.Gc(58,$,1,1,"img",16),a.Vb(),a.Wb(59,"input",17,18),a.ec("change",(function(t){return e.onSelectFile(t)})),a.Vb(),a.Wb(61,"button",19),a.ec("click",(function(){return a.zc(n),a.vc(60).click()})),a.Wb(62,"span",20),a.Ic(63,"Upload image"),a.Vb(),a.Wb(64,"mat-icon"),a.Ic(65,"cloud_upload"),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Rb(66,"mat-divider"),a.Wb(67,"div",21),a.Wb(68,"button",22),a.ec("click",(function(t){return e.cancel(t)})),a.Ic(69,"Cancelar"),a.Vb(),a.Wb(70,"button",23),a.ec("click",(function(){return e.borrar()})),a.Wb(71,"mat-icon"),a.Ic(72,"delete"),a.Vb(),a.Ic(73,"Borrar "),a.Vb(),a.Wb(74,"button",24),a.ec("click",(function(){return e.save()})),a.Wb(75,"mat-icon"),a.Ic(76,"save"),a.Vb(),a.Ic(77,"Guardar "),a.Vb(),a.Vb(),a.Vb()}2&t&&(a.Cb(2),a.nc("formGroup",e.registrarGroup),a.Cb(21),a.nc("ngForOf",e.tipoProducto),a.Cb(5),a.nc("ngForOf",e.marcas),a.Cb(30),a.nc("ngIf",e.getImage()),a.Cb(16),a.nc("disabled",e.isDisabled()))},directives:[c.r,c.m,c.h,d.c,d.f,u.b,c.b,c.l,c.f,s.a,i.k,z.a,c.o,d.g,i.l,l.a,b.a,f.l],styles:[".nuevo-producto[_ngcontent-%COMP%]{padding:20px}.section-container[_ngcontent-%COMP%]:not(:first-child){padding-top:20px}.section-container[_ngcontent-%COMP%]{padding-bottom:20px}.input-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.input-list[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{margin-right:20px;width:300px}.actions[_ngcontent-%COMP%]{padding-top:20px;display:flex;justify-content:flex-end}.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:8px}@media screen and (max-width:600px){.actions[_ngcontent-%COMP%]{flex-wrap:wrap}.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;margin-top:8px}}.upload-text[_ngcontent-%COMP%]{margin-right:4px}.image-control[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:flex-start}.image-control[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{width:200px;height:150px;background:grey;margin-right:8px}.image-control[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;-o-object-fit:cover;object-fit:cover}@media screen and (max-width:600px){.image-control[_ngcontent-%COMP%]{display:block}.image-control[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;margin-top:16px}.image-control[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{width:100%;height:150px;margin-right:0}}"]}),B)},{path:"editar/:id",component:(J=function(){function t(e,n,i,o,a){_classCallCheck(this,t),this.location=e,this.productoService=n,this.imageService=i,this.marcaService=o,this.route=a,this.tipoProducto=[],this.marcas=[],this.editarGroup=new c.g({codigo:new c.d(""),codigoFabrica:new c.d(""),codigoSunat:new c.d(""),descripcion:new c.d(""),tipo:new c.d(""),marca:new c.d(""),enlaceRRSS2:new c.d(""),enlaceRRSS1:new c.d(""),stock:new c.d(""),precio:new c.d(""),imageUrl:new c.d("")})}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.productoService.getTipoProducto().subscribe((function(e){t.tipoProducto=e})),this.marcaService.getMarcas().subscribe((function(e){t.marcas=e}));var e=this.route.snapshot.paramMap.get("id");this.productoService.getProductoDetalle(+e).subscribe((function(e){t.editarGroup=new c.g({codigo:new c.d({value:e.iD_PRODUCTO,disabled:!0},[c.q.required]),codigoFabrica:new c.d(e.prO_CODIGO_FABRICA,[c.q.required]),codigoSunat:new c.d(e.prO_CODIGO_SUNAT,[c.q.required]),descripcion:new c.d(e.prO_DESCRIPCION,[c.q.required]),tipo:new c.d(e.iD_TIPO_PRODUCTO,[c.q.required,c.q.min(1)]),marca:new c.d(e.iD_MARCA,[c.q.required,c.q.min(1)]),enlaceRRSS2:new c.d(e.prO_ENLACE_RRSS2,[c.q.required]),enlaceRRSS1:new c.d(e.prO_ENLACE_RRSS1,[c.q.required]),stock:new c.d(e.prO_STOCK,[c.q.required]),precio:new c.d(e.prO_PRECIO,[c.q.required]),imageUrl:new c.d(e.prO_IMAGEN,[c.q.required])})}))}},{key:"getImage",value:function(){return this.editarGroup.get("imageUrl").value}},{key:"onSelectFile",value:function(t){var e=this;t.target.files&&t.target.files[0]&&(this.editarGroup.get("imageUrl").setValue(null),this.imageService.upload(t.target.files[0]).subscribe((function(t){e.editarGroup.get("imageUrl").setValue(t.data.display_url)})))}},{key:"cancel",value:function(t){this.location.back()}},{key:"isDisabled",value:function(){return this.editarGroup.invalid}},{key:"save",value:function(){var t=this,e=this.editarGroup.getRawValue(),n=e.codigo,i=e.codigoFabrica,o=e.codigoSunat,c=e.descripcion,a=e.tipo,r=e.marca,l=e.enlaceRRSS2,b=e.enlaceRRSS1,d=e.stock,u=e.precio,s=e.imageUrl;this.productoService.updateProducto(n,a,r,i,o,c,b,l,u,d,s).subscribe((function(){t.location.back()}))}}]),t}(),J.\u0275fac=function(t){return new(t||J)(a.Qb(i.h),a.Qb(r.a),a.Qb(T),a.Qb(U.a),a.Qb(o.a))},J.\u0275cmp=a.Kb({type:J,selectors:[["app-editar-producto"]],decls:78,vars:5,consts:[[1,"nuevo-producto","mat-elevation-z8",3,"formGroup"],[1,"section-container"],[1,"input-list"],["type","text","matInput","","disabled","","formControlName","codigo"],["type","text","matInput","","formControlName","codigoFabrica"],["type","text","matInput","","formControlName","codigoSunat"],["type","text","matInput","","formControlName","descripcion"],["formControlName","tipo"],[3,"value",4,"ngFor","ngForOf"],["formControlName","marca"],["type","text","matInput","","formControlName","enlaceRRSS2"],["type","text","matInput","","formControlName","enlaceRRSS1"],["matInput","","type","number","min","0","formControlName","stock"],["matInput","","type","number","formControlName","precio"],["matPrefix",""],[1,"image-control"],[1,"image-container"],[3,"src",4,"ngIf"],["type","file","accept","image/*",2,"display","none",3,"change"],["file",""],["mat-stroked-button","","color","primary",3,"click"],[1,"upload-text"],[1,"actions"],["mat-flat-button","",3,"click"],["mat-raised-button","","color","primary",3,"disabled","click"],[3,"value"],[3,"src"]],template:function(t,e){if(1&t){var n=a.Xb();a.Wb(0,"h1"),a.Ic(1,"Editar Producto"),a.Vb(),a.Wb(2,"form",0),a.Wb(3,"div",1),a.Wb(4,"h2"),a.Ic(5,"Datos de producto"),a.Vb(),a.Wb(6,"div",2),a.Wb(7,"mat-form-field"),a.Wb(8,"mat-label"),a.Ic(9,"C\xf3digo"),a.Vb(),a.Rb(10,"input",3),a.Vb(),a.Wb(11,"mat-form-field"),a.Wb(12,"mat-label"),a.Ic(13,"C\xf3digo de Fabrica"),a.Vb(),a.Rb(14,"input",4),a.Vb(),a.Wb(15,"mat-form-field"),a.Wb(16,"mat-label"),a.Ic(17,"C\xf3digo Sunat"),a.Vb(),a.Rb(18,"input",5),a.Vb(),a.Wb(19,"mat-form-field"),a.Wb(20,"mat-label"),a.Ic(21,"Descripci\xf3n"),a.Vb(),a.Rb(22,"input",6),a.Vb(),a.Wb(23,"mat-form-field"),a.Wb(24,"mat-label"),a.Ic(25,"Tipo"),a.Vb(),a.Wb(26,"mat-select",7),a.Gc(27,Q,2,2,"mat-option",8),a.Vb(),a.Vb(),a.Wb(28,"mat-form-field"),a.Wb(29,"mat-label"),a.Ic(30,"Marca"),a.Vb(),a.Wb(31,"mat-select",9),a.Gc(32,K,2,2,"mat-option",8),a.Vb(),a.Vb(),a.Wb(33,"mat-form-field"),a.Wb(34,"mat-label"),a.Ic(35,"Enlace RRSS 2"),a.Vb(),a.Rb(36,"input",10),a.Vb(),a.Wb(37,"mat-form-field"),a.Wb(38,"mat-label"),a.Ic(39,"Enlace RRSS 1"),a.Vb(),a.Rb(40,"input",11),a.Vb(),a.Vb(),a.Vb(),a.Rb(41,"mat-divider"),a.Wb(42,"div",1),a.Wb(43,"h2"),a.Ic(44,"Stock"),a.Vb(),a.Wb(45,"div",2),a.Wb(46,"mat-form-field"),a.Wb(47,"mat-label"),a.Ic(48,"Stock actual"),a.Vb(),a.Rb(49,"input",12),a.Vb(),a.Wb(50,"mat-form-field"),a.Wb(51,"mat-label"),a.Ic(52,"Precio Actual"),a.Vb(),a.Rb(53,"input",13),a.Wb(54,"span",14),a.Ic(55,"S/"),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Rb(56,"mat-divider"),a.Wb(57,"div",1),a.Wb(58,"h2"),a.Ic(59,"Imagen"),a.Vb(),a.Wb(60,"div",15),a.Wb(61,"div",16),a.Gc(62,A,1,1,"img",17),a.Vb(),a.Wb(63,"input",18,19),a.ec("change",(function(t){return e.onSelectFile(t)})),a.Vb(),a.Wb(65,"button",20),a.ec("click",(function(){return a.zc(n),a.vc(64).click()})),a.Wb(66,"span",21),a.Ic(67,"Upload image"),a.Vb(),a.Wb(68,"mat-icon"),a.Ic(69,"cloud_upload"),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Rb(70,"mat-divider"),a.Wb(71,"div",22),a.Wb(72,"button",23),a.ec("click",(function(t){return e.cancel(t)})),a.Ic(73,"Cancelar"),a.Vb(),a.Wb(74,"button",24),a.ec("click",(function(){return e.save()})),a.Wb(75,"mat-icon"),a.Ic(76,"save"),a.Vb(),a.Ic(77,"Guardar "),a.Vb(),a.Vb(),a.Vb()}2&t&&(a.Cb(2),a.nc("formGroup",e.editarGroup),a.Cb(25),a.nc("ngForOf",e.tipoProducto),a.Cb(5),a.nc("ngForOf",e.marcas),a.Cb(30),a.nc("ngIf",e.getImage()),a.Cb(12),a.nc("disabled",e.isDisabled()))},directives:[c.r,c.m,c.h,d.c,d.f,u.b,c.b,c.l,c.f,s.a,i.k,z.a,c.o,d.g,i.l,l.a,b.a,f.l],styles:[".nuevo-producto[_ngcontent-%COMP%]{padding:20px}.section-container[_ngcontent-%COMP%]:not(:first-child){padding-top:20px}.section-container[_ngcontent-%COMP%]{padding-bottom:20px}.input-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.input-list[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{margin-right:20px;width:300px}.actions[_ngcontent-%COMP%]{padding-top:20px;display:flex;justify-content:flex-end}.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:8px}@media screen and (max-width:600px){.actions[_ngcontent-%COMP%]{flex-wrap:wrap}.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;margin-top:8px}}.upload-text[_ngcontent-%COMP%]{margin-right:4px}.image-control[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:flex-start}.image-control[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{width:200px;height:150px;background:grey;margin-right:8px}.image-control[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;-o-object-fit:cover;object-fit:cover}@media screen and (max-width:600px){.image-control[_ngcontent-%COMP%]{display:block}.image-control[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;margin-top:16px}.image-control[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{width:100%;height:150px;margin-right:0}}"]}),J)}],L=((X=function t(){_classCallCheck(this,t)}).\u0275mod=a.Ob({type:X}),X.\u0275inj=a.Nb({factory:function(t){return new(t||X)},imports:[[o.f.forChild(H)],o.f]}),X),Y=n("hctd");n.d(e,"InventarioModule",(function(){return tt}));var Z,tt=((Z=function t(){_classCallCheck(this,t)}).\u0275mod=a.Ob({type:Z}),Z.\u0275inj=a.Nb({factory:function(t){return new(t||Z)},imports:[[i.c,L,Y.a,c.p]]}),Z)}}]);